<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        window.onload = function() {
            let sport = document.getElementsByName("sport");
            let quanxuan = document.getElementById("checkedAllBtn");
            quanxuan.onclick = function() {
                for (let i=0; i<sport.length; ++i) {
                    sport[i].checked = true;
                }
                orxuan.checked = true;
            }
            let quanbuxuan = document.getElementById("checkedNoBtn");
            quanbuxuan.onclick = function() {
                for (let i=0; i<sport.length; ++i) {
                    sport[i].checked = false;
                }
                orxuan.checked = false;
            }
            
            let fanxuan = document.getElementById("checkedRevBtn");
            fanxuan.onclick = function() {
                orxuan.checked = true;/* 先默认为true */
                for (let i=0; i<sport.length; ++i) {
                    /* if (sport[i].checked === true) {
                        sport[i].checked = false;
                    }else {
                        sport[i].checked = true;
                    } */
                    sport[i].checked = !sport[i].checked;/* 因为是布尔值 */
                    if (!sport[i].checked) {/* 前面先把orxuan默认为true，然后再在这里判断：知道出现一个sport[i]是false的,orxuan就是false */
                        orxuan.checked = false;
                        /* 这里不能像下面一样用break不然就退出循环而导致剩下的没有进行反选 */
                    }
                }
            }
            let orxuan = document.getElementById("checkedAllBox");
            orxuan.onclick = function() {
                for (let i=0; i<sport.length; ++i) {
                    /* sport[i].checked = orxuan.checked; */
                    sport[i].checked = this.checked;
                    /* orxuan的框选中时，下面选项全选，没选中就不选 */
                }
            }
            // 四个选项都选上时，orxuan.checked即刻为true
            for (let i=0; i<sport.length; ++i) {
                sport[i].onclick = function() {
                    orxuan.checked = true;/* 先默认为true */
                    for (let j=0; j<sport.length; ++j) {
                        if (!sport[j].checked) {
                            orxuan.checked = false;
                            break;
                        }
                    }
                }
            }
            
            let tijiao = document.getElementById("sendBtn");
            tijiao.onclick = function() {
                for (let i=0; i<sport.length; ++i) {
                    if (sport[i].checked === true) {
                        alert(sport[i].nextSibling.nodeValue);/* 文本节点也是一个自结束节点 */
                    }

                }
            }
            
        }
    </script>
</head>
<body>
    <form method="POST" action="#">
        <span>你爱好的运动是？</span>
        <input type="checkbox" id="checkedAllBox">全选/全不选<br>
        <input type="checkbox" name="sport" value="football">足球
        <input type="checkbox" name="sport" value="basketball">篮球
        <input type="checkbox" name="sport" value="badminton">羽毛球
        <input type="checkbox" name="sport" value="table tennis">乒乓球<br>
        <button type="button" id="checkedAllBtn">全 选</button>
        <button type="button" id="checkedNoBtn">全 不 选</button>
        <button type="button" id="checkedRevBtn">反选</button>
        <button type="button"id="sendBtn">提交</button>

    </form>
    
</body>
</html>